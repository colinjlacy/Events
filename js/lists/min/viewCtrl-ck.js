angular.module("boomCal").controller("viewCtrl",function(e,t,i,o,s){var n=function(i){t({url:"server/retrieve_list_items.php",method:"GET",params:{list_id:i}}).success(function(t){console.log(t),e.items=t}).error(function(t){e.viewError=t})};n(i.id),e.doneToggle=function(e){e.done=1==e.done?!1:!0},e.hideDoneToggle=function(){e.hideDone?(e.hideDone=!1,document.getElementById("hide-toggle").innerHTML="Hide Checked"):(e.hideDone=!0,document.getElementById("hide-toggle").innerHTML="Show Checked")},e.shouldBeHidden=function(t){return e.hideDone&&t.done===!0?!0:void 0},e.updateList=function(){var i=[];console.log(e.items);for(var o=0;o<e.items.length;o++)console.log(e.items[o].id+" = "+e.items[o].done),1==e.items[o].done&&(i.push(e.items[o].id),e.items.splice(o,1),o-=1);console.log(i),t({url:"delete_items.php",method:"POST",data:i}).success(function(e){console.log(e),s.path("/")})},e.deleteList=function(e){var i="server/delete_list.php";t({url:i,method:"POST",data:e}).success(function(t){for(var i=0;i<o.lists.length;i++)if(console.log("id: "+e),console.log("list id: "+o.lists[i].id),e==o.lists[i].id){console.log("list id: "+o.lists[i].id),o.lists.splice(i,1);break}s.path("lists/")})},e.editList=function(e){s.path("lists/edit/"+e)},e.addItem=function(t){e.items.push(t),e.itemToAdd="";var i=document.getElementById("addInput");i.focus()},e.remove=function(t){e.items.splice(t,1)},e.saveEditedList=function(){var i="server/edit_list.php",n={google_id:o.google_id,list_id:o.activeList.id,items:e.items};t({url:i,method:"POST",data:n}).success(function(e){s.path("lists/"+e)})}});