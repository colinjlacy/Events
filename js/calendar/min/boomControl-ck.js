angular.module("boomCal").controller("boomControl",function(e,t,n,a,o){e.$on("event:google-plus-signin-success",function(n,i){var s=i.access_token;e.token=s,e.data=a.listEventsOnLoad(s),e.cals=a.listCalendars(s),t.findEvents=o.findEvents()}),e.$on("event:google-plus-signin-failure",function(e,t){console.log("Not signed into Google Plus.")}),e.getEvent=function(t){e.data.activeEvent=t},e.toggleActive=function(t){for(var n=!1,a=0;a<e.cals.active.length;a++)if(e.cals.active[a]==t.id){if(0==a){e.cals.active.shift(),n=!0;break}e.cals.active.splice(a,a),n=!0;break}0==n&&e.cals.active.push(t.id)},e.reviseEvents=function(){var t=e.cals.active,n=e.token;e.data.events=a.reviseEvents(t,n)},e.addEvent=function(){var t=e.data.addEvent,n=e.token;t.calID=encodeURIComponent(t.calID),a.addEvent(t,n)},e.shouldBeChecked=function(t){for(var n=!1,a=0;a<e.cals.active.length;a++)if(e.cals.active[a]==t.id){n=!0;break}return n},e.addToAttendees=function(){e.attendees&&e.attendees.length>0||(e.attendees=[]),e.attendees.push(e.attendee),e.attendee=void 0};var i=new Date;e.today=function(){e.startDate=i.toISOString().slice(0,10)},e.today(),e.future=function(){var t=i.addDays(30);e.endDate=t.toISOString().slice(0,10)},e.future(),e.toggleMin=function(){e.minDate=e.minDate?null:new Date},e.toggleMin(),e.open=function(t){t.preventDefault(),t.stopPropagation(),e.opened=!0},e.dateOptions={formatYear:"yy",startingDay:1},e.reviseDates=function(){var n=e.token,i=e.startDate,s=e.endDate;e.data=a.listEventsOnLoad(n,i,s),t.findEvents=o.findEvents(i,s)},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[3]});